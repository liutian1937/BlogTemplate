{
	"time" : "June 9, 2013 ",
	"title" : "Javascript触屏手势库-JTouch(更新V1.1)",
	"content" : "<p><img class='size-full wp-image-1224' title='boat-anchor-text-links' alt='Javascript触屏手势库-jTouch' src='http://liutian1937.github.io/JTouch/images/jtouch.jpg' width='450' height='450'></p><p class='wp-caption-text'>Javascript触屏手势库-jTouch</p> <p>触屏手势库--JTouch</p><p>封装的代码有不足支出，以及bug等欢迎大家多多指正。</p><p>Github地址：<a href='https://github.com/liutian1937/JTouch' target='_blank'>https://github.com/liutian1937/JTouch</a>&nbsp;（大家可以fork项目跟踪最新进展）</p><h2>JTouch的介绍</h2><p>JTouch是针对触屏浏览器提供的一个手势集合，由于我的测试环境主要是ipad，所以对于其他触屏设备的支持情况可能会有所不足。这个在后期版本升级过程中会修复。</p><p>JTouch在手指移动上去会触发<strong>start</strong>事件，结束会触发<strong>end</strong>事件。主要支持的手势有tap(单击)，doubletap(双击)，longtap（长按），hold（拖拽），swipe（滑动），flick（轻拂），pinch（捏合，拉伸），rotate（旋转）；除了pinch，rotate手势外，其他手势事件的回调函数都会返回<span style='color: #db4f33;'><strong>data['fingerNum']</strong><span style='color: #000000;'>值，所以在回调函数中可以根据手指的数量来拼合其他的事件。</span></span></p> <p>其中每个手势事件都会返回响应的回调函数，接受回调函数的参数值一般定义为evt和data，可自行设定。</p><ul><li>其中swipe和flip可以返回方向data['direction']以及左右，上下移动的距离data['x']，data['y']，swipe事件结束会返回状态值data['status'] == &nbsp;end；</li> <li>pinch会返回type信息，即in和out，来判断向里还是向外压缩或者拉伸;返回data['scale']表示缩放比例；</li> <li>rotate同样会有direction信息来简单判断向左旋转亦或向右旋转，同时返回data['rotation']作为角度信息；</li> <li>每个手势事件都有相应的event对象返回，其中pinch和rotate返回的与其他的event对象是不同的，这两个返回的是gesturechange的事件对象，（详细信息可以在debug模式下调试查看）</li> </ul> <h2>jTouch的使用</h2> <ol> <li>实例化<br> var objTouch = document.getElementById('touch');<br> var Touches = JTouch(objTouch);</li> <li>采用链式写法，<br> <blockquote><p>Touches.on('手势名称',function(evt,data){<br> //回调函数部分<br> })</p> </blockquote> </li> <li>回调函数中返回相应的值</li> </ol> <h2>JTouch的示例</h2> <p><a href='http://liutian1937.github.io/JTouch/carousel.html' target='_blank'>http://liutian1937.github.io/JTouch/carousel.html</a></p> <p>触摸平滑移动，其中用到了单独封装的translate插件，时间有限代码略显粗糙，各位看官见谅。</p> <p><a href='http://liutian1937.github.io/JTouch/touch.html' target='_blank'>http://liutian1937.github.io/JTouch/touch.html</a></p> <p>稍微仿了下ipad的界面效果，有太多不足支持。长按可以触发icon抖动，双击空白取消效果，但是取消效果过程会产生抖动，希望哪位高人提点意见。其中想到了用-webkit-animation-play-state:paused;来实现，但是具体如何让动画停在第一帧不甚了解。</p> <p>另外做了个简单的图像效果，这个效果的flick效果还没有强化，关于这个效果我感觉我实现的复杂了一些，但是暂时没有想到万全之策，所以里面出现了不少的参数，哪位高人见到可以优化之。大家可以根据这个效果扩展成一个相册效果。具有左右翻的效果。</p> <hr> <p><strong>更新记录：</strong></p> <p><span style='color: #339966;'>v1.1更新记录：</span></p><p>命名jTouch -&gt; JTouch 实例化不需要new，直接JTouch 加入鼠标手势操作，鼠标可以实现tap.doubletap,swipe,hold,flip操作，可以用mousewheel模拟pinch 加入init(),destory()功能来实现重置和销毁<br/><span style='color: #ff6600;'>不足：手头没有win8的平板，暂时没有实现ie10的触控手势</span></p>",
	"prev" : {
				"url" : "json/3.json",
				"title"  : "Repository Next"
				},
	"next" : {
				"url" : "json/1.json",
				"title"  : "The Revolution Will Be Forked"
				}
}